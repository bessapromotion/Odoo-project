<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- Article Form -->
        <record model="ir.ui.view" id="article_form_view">
            <field name="name">cahier.charge.article.form</field>
            <field name="model">cahier.charge.article</field>
            <field name="arch" type="xml">
                <form string="Article">
                    <sheet>
                        <strong>Nom</strong>
                        <h1>
                            <field name="name" class="oe_inline" placeholder="Nom"/>
                        </h1>
                        <group>
                            <group>
                                <field name="code"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                        </group>
                        <div>
                            <separator string="Contenu"/>
                            <div class="oe_edit_only">
                                <p>Vous pouvez utiliser les <i>mots-clés</i> suivants dans le contenu de l'article:
                                    <br/>
                                    <code style="color: inherit;">[[company]] [[manager]]
                                    </code>
                                </p>
                            </div>
                            <field name="contenu" nolabel="1"/>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Article Tree -->
        <record model="ir.ui.view" id="article_tree_view">
            <field name="name">cahier.charge.article.tree</field>
            <field name="model">cahier.charge.article</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="code"/>
                    <field name="name"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>

        <!-- Article Filter -->
        <record id="article_filter" model="ir.ui.view">
            <field name="name">cahier.charge.article.filter</field>
            <field name="model">cahier.charge.article</field>
            <field name="arch" type="xml">
                <search string="Article">
                    <field name="name"/>
                    <field name="code"/>

                    <!--                    <group expand="0" string="Grouper par...">-->
                    <!--                        <filter name="en_cours" string="Dernière version" domain="[['en_cours', '=', True]]"-->
                    <!--                                help="Dernière version"/>-->
                    <!--                        <filter name="anciens" string="Ancienne version" domain="[['en_cours', '=', False]]"-->
                    <!--                                help="Ancienne version"/>-->

                    <!--                        &lt;!&ndash; <filter name="parent" string="Article parent" domain="[]" context="{'group_by':'parent'}" help="Article parent" /> &ndash;&gt;-->
                    <!--                        &lt;!&ndash; <filter name="parent" string="Article parent" domain="[]" context="{'group_by':'name'}" help="Article parent" /> &ndash;&gt;-->
                    <!--                    </group>-->
                </search>
            </field>
        </record>

        <!-- Article Tree View Action -->
        <record model="ir.actions.act_window" id="action_article_tree_view">
            <field name="name">Articles de contrat</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">cahier.charge.article</field>
            <field name="search_view_id" ref="article_filter"/>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="article_tree_view"/>
            <!--            <field name="context">{"search_default_en_cours":1}</field>-->
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Créer un nouvel article de contrat.
                </p>
                <p>

                </p>
                <p>

                </p>
            </field>
        </record>


    </data>
</openerp>
